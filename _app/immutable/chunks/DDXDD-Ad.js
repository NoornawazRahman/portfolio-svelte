import"./BS_Ig3Qh.js";import"./JYOET4dg.js";import{b5 as Y,b3 as G,p as P,al as k,a2 as p,am as T,h as S,f as $,b,t as x,c as H,r as J,a as O,e as L,g as z,an as E,i as f,b8 as Z,ak as j}from"./BJK12Hcl.js";import{o as tt,i as et,j as at,m as W,k as F,s as w,f as K,c as I}from"./DbmFjNWf.js";import{i as N}from"./Z_Mz8mJf.js";import{l as v,b as c,i as R,c as q,s as Q,e as st,a as V,d as B}from"./D9dj6j5h.js";import{a as D,h as nt}from"./CwrmXws8.js";import{o as lt}from"./NNJARzrs.js";import{w as rt}from"./Cxni_WJz.js";import{t as ot,c as it,r as dt,g as ct}from"./Bm1i-WTR.js";const ut={src:"",delayMs:0,onLoadingStatusChange:void 0},ft=s=>{const t={...ut,...s},r=ot(tt(t,"loadingStatus","onLoadingStatusChange")),{src:u,delayMs:n}=r,o=t.loadingStatus??rt("loading"),e=lt(o,t?.onLoadingStatusChange);et([u,n],([d,_])=>{if(at){const m=new Image;m.src=d,m.onload=()=>{if(n!==void 0){const y=window.setTimeout(()=>{e.set("loaded")},_);return()=>window.clearTimeout(y)}else e.set("loaded")},m.onerror=()=>{e.set("error")}}});const i=W("avatar-image",{stores:[u,e],returned:([d,_])=>{const m=F({display:_==="loaded"?"block":"none"});return{src:d,style:m}}}),g=W("avatar-fallback",{stores:[e],returned:([d])=>({style:d==="loaded"?F({display:"none"}):void 0,hidden:d==="loaded"?!0:void 0})});return{elements:{image:i,fallback:g},states:{loadingStatus:e},options:r}};function U(){return{NAME:"avatar",PARTS:["root","image","fallback"]}}function gt(s){const{NAME:t,PARTS:r}=U(),u=it(t,r),n={...ft(dt(s)),getAttrs:u};return Y(t,n),{...n,updateOption:ct(n.options)}}function mt(s=""){const{NAME:t}=U(),r=G(t);return s?r.options.src.set(s):r.options.src.set(""),r}function vt(){const{NAME:s}=U();return G(s)}var _t=x("<div><!></div>");function ht(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["delayMs","loadingStatus","onLoadingStatusChange","asChild","el"]);P(t,!1);let n=c(t,"delayMs",24,()=>{}),o=c(t,"loadingStatus",28,()=>{}),e=c(t,"onLoadingStatusChange",24,()=>{}),i=c(t,"asChild",8,!1),g=c(t,"el",28,()=>{});const{states:{loadingStatus:d},updateOption:_,getAttrs:m}=gt({src:"",delayMs:n(),onLoadingStatusChange:({next:l})=>(o(l),e()?.(l),l)}),y=m("root");k(()=>p(o()),()=>{o()!==void 0&&d.set(o())}),k(()=>p(n()),()=>{_("delayMs",n())}),T(),N();var C=S(),M=$(C);R(M,i,l=>{var a=S(),h=$(a);w(h,t,"default",{attrs:y}),b(l,a)},l=>{var a=_t();let h;var A=H(a);w(A,t,"default",{attrs:y}),J(a),q(a,X=>g(X),()=>g()),O(()=>h=D(a,h,{...u,...y})),b(l,a)}),b(s,C),L()}var bt=x("<img>");function yt(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["src","alt","asChild","el"]);P(t,!1);const n=Q(),o=()=>V(f(e),"$image",n),e=E(),i=E();let g=c(t,"src",24,()=>{}),d=c(t,"alt",24,()=>{}),_=c(t,"asChild",8,!1),m=c(t,"el",28,()=>{});const y={"data-bits-avatar-image":""};k(()=>p(g()),()=>{st(z(e,mt(g()).elements.image),"$image",n)}),k(()=>o(),()=>{z(i,o())}),k(()=>f(i),()=>{Object.assign(f(i),y)}),T(),N();var C=S(),M=$(C);R(M,_,l=>{var a=S(),h=$(a);w(h,t,"default",{get builder(){return f(i)}}),b(l,a)},l=>{var a=bt();let h;q(a,A=>m(A),()=>m()),K(a,A=>f(i).action(A)),O(()=>h=D(a,h,{...f(i),alt:d(),...u})),nt(a),Z(a),b(l,a)}),b(s,C),L()}var At=x("<span><!></span>");function St(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["asChild","el"]);P(t,!1);const n=Q(),o=()=>V(d,"$fallback",n),e=E();let i=c(t,"asChild",8,!1),g=c(t,"el",28,()=>{});const{elements:{fallback:d},getAttrs:_}=vt(),m=_("fallback");k(()=>o(),()=>{z(e,o())}),k(()=>f(e),()=>{Object.assign(f(e),m)}),T(),N();var y=S(),C=$(y);R(C,i,M=>{var l=S(),a=$(l);w(a,t,"default",{get builder(){return f(e)}}),b(M,l)},M=>{var l=At();let a;var h=H(l);w(h,t,"default",{get builder(){return f(e)}}),J(l),q(l,A=>g(A),()=>g()),K(l,A=>f(e).action(A)),O(()=>a=D(l,a,{...f(e),...u})),b(M,l)}),b(s,y),L()}function Et(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["class","delayMs"]);P(t,!1);let n=c(t,"class",8,void 0),o=c(t,"delayMs",8,void 0);N();var e=j(()=>I("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n()));ht(s,B({get delayMs(){return o()},get class(){return f(e)}},()=>u,{children:(i,g)=>{var d=S(),_=$(d);w(_,t,"default",{}),b(i,d)},$$slots:{default:!0}})),L()}function Tt(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["class","src","alt"]);P(t,!1);let n=c(t,"class",8,void 0),o=c(t,"src",8,void 0),e=c(t,"alt",8,void 0);N();var i=j(()=>I("aspect-square h-full w-full",n()));yt(s,B({get src(){return o()},get alt(){return e()},get class(){return f(i)}},()=>u)),L()}function xt(s,t){const r=v(t,["children","$$slots","$$events","$$legacy"]),u=v(r,["class"]);P(t,!1);let n=c(t,"class",8,void 0);N();var o=j(()=>I("bg-muted flex h-full w-full items-center justify-center rounded-full",n()));St(s,B({get class(){return f(o)}},()=>u,{children:(e,i)=>{var g=S(),d=$(g);w(d,t,"default",{}),b(e,g)},$$slots:{default:!0}})),L()}export{Et as A,xt as a,Tt as b};
